{
  "name": "Go + Python + Zsh Dev Container",
  "image": "mcr.microsoft.com/vscode/devcontainers/base:ubuntu-22.04",
  "runArgs": ["--gpus=all","--network","host"],
  "capAdd": ["SYS_PTRACE"],
  "features": {
    "ghcr.io/devcontainers/features/go:1": {
      "version": "1.21.0",
      "installTools": true,
      "installGopls": true,
      "installDelve": true,
      "installGoTools": true
    },
    "ghcr.io/devcontainers/features/rust:1": {
      "version": "1.82.0",
      "installTools": true,
      "installRustAnalyzer": true,
      "installCargoFmt": true,
      "installCargoClippy": true
    },
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.11",
      "installTools": true,
      "toolsToInstall": ["flake8", "autopep8", "black", "pylint", "mypy", "pydocstyle", "pycodestyle", "bandit", "pipenv", "virtualenv"]
    },
    "ghcr.io/devcontainers/features/common-utils:2": {
      "installZsh": true,
      "installOhMyZsh": true,
      "installOhMyZshConfig": true,
      "configureZshAsDefaultShell": true,
      "upgradePackages": true,
      "username": "vscode",
      "uid": "1000",
      "gid": "1000"
    },
    "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
    "ghcr.io/devcontainers/features/aws-cli:1": {}
  },
  "postCreateCommand": "bash -c 'git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions && git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting && sed -i \"s/ZSH_THEME=.*/ZSH_THEME=\\\"agnoster\\\"/g\" ~/.zshrc && sed -i \"s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting)/g\" ~/.zshrc'",
  "customizations": {
    "vscode": {
      "settings": { /* … */ },
      "extensions": [ 
        "ms-python.python",
        "ms-python.pylint",
        "ms-python.black-formatter",
        "golang.go"
        /* … your other extensions */ 
      ]
    }
  },
  "remoteUser": "vscode",
  "mounts": [ /* … */ ]
}